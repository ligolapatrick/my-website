<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Find One by Click</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
        }
        .navbar {
            background-color: #007bff;
            color: white;
            padding: 10px;
            text-align: center;
        }
        .navbar img {
            height: 50px;
        }
        .nav-links {
            list-style: none;
            padding: 0;
            display: flex;
            justify-content: center;
        }
        .nav-links li {
            margin: 0 10px;
        }
        .nav-links a {
            color: white;
            text-decoration: none;
        }
        .settings-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .settings-container h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        .settings-group {
            margin-bottom: 20px;
        }
        .settings-group h3 {
            margin-bottom: 10px;
        }
        .settings-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .settings-group input, .settings-group select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        .settings-group button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .settings-group button:hover {
            background-color: #0056b3;
        }
        /* Media Queries for smaller screens */
@media only screen and (max-width: 768px) {
  .user-card {
      width: 100%;
      margin: 0.5rem 0;
  }

  .top-nav {
      display: flex;
      flex-direction: column;
      align-items: center;
  }

  .top-nav a {
      margin: 0.5rem 0;
  }
}

@media only screen and (max-width: 480px) {
  header {
      padding: 0.5rem;
  }

  .user-card {
      padding: 0.5rem;
  }

  .user-card-buttons button {
      padding: 0.25rem 0.5rem;
      margin: 0.25rem 0;
  }

  .top-nav a {
      font-size: 1.2rem;
  }
}
   /* Media Queries for Responsive Design */
   @media (max-width: 768px) {
    .user-card {
      width: 90%; /* Adjusted width for smaller screens */
    }
  }

  @media (max-width: 480px) {
    .user-card {
      width: 100%; /* Full width for very small screens */
    }
    .message-input {
      flex-direction: column;
      align-items: flex-start;
    }
    .message-input input {
      width: 100%;
      margin-bottom: 5px;
    }
    .message-input button {
      width: 100%;
    }
  }
    </style>
</head>
<body>
    <nav class="navbar">
        <img src="images/LoveConnect logo.png" alt="LoveConnect Logo">
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="profile.html">Profile</a></li>
            <li><a href="matches.html">Matches</a></li>
            <li><a href="messages.html">Messages</a></li>
            <li><a href="settings.html">Settings</a></li>
            <li><a href="login.html">Logout</a></li>
        </ul>
    </nav>

    <div class="settings-container">
        <h2>Settings</h2>

        <!-- Notification Settings -->
        <div class="settings-group">
            <h3>Notification Settings</h3>
            <label for="notifications">Notifications</label>
            <select id="notifications" name="notifications">
                <option value="all">All</option>
                <option value="mentions">Mentions Only</option>
                <option value="none">None</option>
            </select>
            <button type="button" onclick="saveNotificationSettings()">Save Notification Settings</button>
        </div>

        <!-- Privacy Settings -->
        <div class="settings-group">
            <h3>Privacy Settings</h3>
            <label for="privacy">Privacy</label>
            <select id="privacy" name="privacy">
                <option value="public">Public</option>
                <option value="friends">Friends Only</option>
                <option value="private">Private</option>
            </select>
            <button type="button" onclick="savePrivacySettings()">Save Privacy Settings</button>
        </div>

        <!-- Theme Settings -->
        <div class="settings-group">
            <h3>Theme Settings</h3>
            <label for="theme">Theme</label>
            <select id="theme" name="theme">
                <option value="light">Light</option>
                <option value="dark">Dark</option>
            </select>
            <button type="button" onclick="saveThemeSettings()">Save Theme Settings</button>
        </div>

        <!-- Language Settings -->
        <div class="settings-group">
            <h3>Language Settings</h3>
            <label for="language">Language</label>
            <select id="language" name="language">
                <option value="en">English</option>
                <option value="es">Spanish</option>
                <option value="fr">French</option>
                <!-- Add more languages as needed -->
            </select>
            <button type="button" onclick="saveLanguageSettings()">Save Language Settings</button>
        </div>

        <!-- Subscription Settings -->
        <div class="settings-group">
            <h3>Subscription Settings</h3>
            <label for="subscription">Subscription</label>
            <select id="subscription" name="subscription">
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="monthly">Monthly</option>
            </select>
            <button type="button" onclick="saveSubscriptionSettings()">Save Subscription Settings</button>
        </div>

        <!-- Appearance Settings -->
        <div class="settings-group">
            <h3>Appearance Settings</h3>
            <label for="fontSize">Font Size</label>
            <select id="fontSize" name="fontSize">
                <option value="small">Small</option>
                <option value="medium">Medium</option>
                <option value="large">Large</option>
            </select>
            <button type="button" onclick="saveAppearanceSettings()">Save Appearance Settings</button>
        </div>

        <!-- Security Settings -->
        <div class="settings-group">
            <h3>Security Settings</h3>
            <label for="twoFactorAuth">Two-Factor Authentication</label>
            <select id="twoFactorAuth" name="twoFactorAuth">
                <option value="enabled">Enabled</option>
                <option value="disabled">Disabled</option>
            </select>
            <button type="button" onclick="saveSecuritySettings()">Save Security Settings</button>
        </div>

        <!-- Data Settings -->
        <div class="settings-group">
            <h3>Data Settings</h3>
            <label for="dataDownload">Download Your Data</label>
            <button id="dataDownload" name="dataDownload" onclick="downloadData()">Download</button>
            
            <label for="deleteAccount">Delete Account</label>
            <button id="deleteAccount" name="deleteAccount" onclick="deleteAccount()">Delete</button>
        </div>

        <!-- Connection Settings -->
        <div class="settings-group">
            <h3>Connection Settings</h3>
            <label for="connectFacebook">Connect to Facebook</label>
            <button id="connectFacebook" name="connectFacebook" onclick="connectFacebook()">Connect</button>
            
            <label for="connectGoogle">Connect to Google</label>
            <button id="connectGoogle" name="connectGoogle" onclick="connectGoogle()">Connect</button>
        </div>

        <!-- Online Status Settings -->
        <div class="settings-group">
            <h3>Online Status Settings</h3>
            <label for="onlineStatus">Show Online Status</label>
            <select id="onlineStatus" name="onlineStatus">
                <option value="enabled">Enabled</option>
                <option value="disabled">Disabled</option>
            </select>
            <button type="button" onclick="saveOnlineStatusSettings()">Save Online Status Settings</button>
        </div>

        <!-- Last Seen Settings -->
        <div class="settings-group">
            <h3>Last Seen Settings</h3>
            <label for="lastSeen">Show Last Seen</label>
            <select id="lastSeen" name="lastSeen">
                <option value="everyone">Everyone</option>
                <option value="friends">Friends</option>
                <option value="none">None</option>
            </select>
            <button type="button" onclick="saveLastSeenSettings()">Save Last Seen Settings</button>
        </div>

        <!-- Read Receipts Settings -->
        <div class="settings-group">
            <h3>Read Receipts Settings</h3>
            <label for="readReceipts">Send Read Receipts</label>
            <select id="readReceipts" name="readReceipts">
                <option value="enabled">Enabled</option>
                <option value="disabled">Disabled</option>
            </select>
            <button type="button" onclick="saveReadReceiptsSettings()">Save Read Receipts Settings</button>
        </div>

        <!-- Auto-download Media Settings -->
        <div class="settings-group">
            <h3>Auto-download Media Settings</h3>
            <label for="autoDownload">Auto-download Media</label>
            <select id="autoDownload" name="autoDownload">
                <option value="wifi">When connected to Wi-Fi</option>
                <option value="always">Always</option>
                <option value="never">Never</option>
            </select>
            <button type="button" onclick="saveAutoDownloadSettings()">Save Auto-download Settings</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetch('/api/settings')
                .then(response => response.json())
                .then(settings => {
                    document.getElementById('notifications').value = settings.notifications;
                    document.getElementById('privacy').value = settings.privacy;
                    document.getElementById('theme').value = settings.theme;
                    document.getElementById('language').value = settings.language;
                    document.getElementById('subscription').value = settings.subscription;
                    document.getElementById('fontSize').value = settings.fontSize;
                    document.getElementById('twoFactorAuth').value = settings.twoFactorAuth;
                    document.getElementById('onlineStatus').value = settings.onlineStatus;
                    document.getElementById('lastSeen').value = settings.lastSeen;
                    document.getElementById('readReceipts').value = settings.readReceipts;
                    document.getElementById('autoDownload').value = settings.autoDownload;
                })
                .catch(error => {
                    console.error('Error fetching settings:', error);
                });
        });

        function saveNotificationSettings() {
            const settings = { notifications: document.getElementById('notifications').value };
            updateSettings(settings, 'Notification settings saved successfully!');
        }

        function savePrivacySettings() {
            const settings = { privacy: document.getElementById('privacy').value };
            updateSettings(settings, 'Privacy settings saved successfully!');
        }

        function saveThemeSettings() {
            const settings = { theme: document.getElementById('theme').value };
            updateSettings(settings, 'Theme settings saved successfully!');
        }

        function saveLanguageSettings() {
            const settings = { language: document.getElementById('language').value };
            updateSettings(settings, 'Language settings saved successfully!');
        }

        function saveSubscriptionSettings() {
            const settings = { subscription: document.getElementById('subscription').value };
            updateSettings(settings, 'Subscription settings saved successfully!');
        }

        function saveAppearanceSettings() {
            const settings = { fontSize: document.getElementById('fontSize').value };
            updateSettings(settings, 'Appearance settings saved successfully!');
        }

        function saveSecuritySettings() {
            const settings = { twoFactorAuth: document.getElementById('twoFactorAuth').value };
            updateSettings(settings, 'Security settings saved successfully!');
        }

        function saveOnlineStatusSettings() {
            const settings = { onlineStatus: document.getElementById('onlineStatus').value };
            updateSettings(settings, 'Online status settings saved successfully!');
        }

        function saveLastSeenSettings() {
            const settings = { lastSeen: document.getElementById('lastSeen').value };
            updateSettings(settings, 'Last seen settings saved successfully!');
        }

        function saveReadReceiptsSettings() {
            const settings = { readReceipts: document.getElementById('readReceipts').value };
            updateSettings(settings, 'Read receipts settings saved successfully!');
        }

        function saveAutoDownloadSettings() {
            const settings = { autoDownload: document.getElementById('autoDownload').value };
            updateSettings(settings, 'Auto-download settings saved successfully!');
        }

        function updateSettings(settings, successMessage) {
            fetch('/api/settings', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(settings)
            })
            .then(response => {
                if (response.ok) {
                    alert(successMessage);
                } else {
                    alert('Error saving settings. Please try again.');
                }
            })
            .catch(error => {
                console.error('Error saving settings:', error);
            });
        }

        function downloadData() {
            // Implement download data functionality
            alert('Download data functionality not implemented yet.');
        }

        function deleteAccount() {
            // Implement delete account functionality
            alert('Delete account functionality not implemented yet.');
        }

        function connectFacebook() {
            // Implement connect to Facebook functionality
            alert('Connect to Facebook functionality not implemented yet.');
        }

        function connectGoogle() {
            // Implement connect to Google functionality
            alert('Connect to Google functionality not implemented yet.');
        }
    </script>
</body>
</html>
